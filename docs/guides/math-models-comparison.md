# Сравнение математических моделей

## Обзор

Документ сравнивает различные модели для решения математических задач.

## Облачные модели (OpenAI)

### o1-preview (Рекомендуется) ⭐
**Статус:** Текущая модель для математики

**Характеристики:**
- Специализированная reasoning модель
- Использует chain-of-thought для решения
- Проверяет свои решения перед ответом

**Производительность:**
- ✅ Отличное качество решений
- ✅ Минимум ошибок в логике
- ✅ Справляется со сложными многошаговыми задачами
- ⚠️ Дороже других моделей ($15/$60 за 1M tokens)
- ⚠️ Медленнее (15-30 секунд)

**Стоимость:**
- Input: $15 / 1M tokens
- Output: $60 / 1M tokens
- Средняя задача: ~$0.25

### gpt-4o
**Статус:** Протестирована, имеет ошибки

**Характеристики:**
- Универсальная модель
- Быстрая генерация

**Производительность:**
- ⚠️ Делает ошибки в сложных задачах
- ✅ Хорошо объясняет решения
- ✅ Быстрее o1-preview (10-15 секунд)
- ✅ Дешевле ($2.50/$10 за 1M tokens)

**Стоимость:**
- Input: $2.50 / 1M tokens
- Output: $10 / 1M tokens
- Средняя задача: ~$0.04

### gpt-4-turbo-2024-04-09
**Статус:** Протестирована, имеет ошибки

**Производительность:**
- ❌ Делает те же ошибки, что и gpt-4o
- ⚠️ Устаревшая версия
- ❌ Не рекомендуется для математики

## Локальные модели (Ollama)

### qwen2-math:7b (Рекомендуется для локального использования) ⭐
**Статус:** Установлена и настроена

**Характеристики:**
- Специализированная математическая модель
- Размер: 4.4 GB
- Основана на Qwen2

**Производительность:**
- ✅ Отличное качество для локальной модели
- ✅ Специально обучена для математики
- ✅ Бесплатная (нет API costs)
- ✅ Приватность (данные не покидают систему)
- ⚠️ Медленнее облачных (20-30 секунд)
- ⚠️ Требует 8+ GB RAM

**Пример решения:**
```
Задача: Реши уравнение: 2x + 5 = 13

Решение:
1. Вычитаем 5 из обеих частей: 2x = 8
2. Делим обе части на 2: x = 4

Ответ: x = 4 ✓
```

**Скорость:**
- Загрузка модели: ~3 секунды
- Генерация (190 токенов): ~16 секунд
- Общее время: ~27 секунд
- Скорость: 12 tokens/s

### qwen2.5:7b
**Статус:** Установлена, но не специализирована

**Производительность:**
- ⚠️ Универсальная модель, не специализирована для математики
- ⚠️ Может делать ошибки в сложных задачах
- ❌ Не рекомендуется для математики

### Другие доступные модели

#### mathstral
- Математическая модель от Mistral
- Не протестирована
- Альтернатива qwen2-math

#### wizard-math
- Модель для математики и логики
- Не протестирована
- Альтернатива qwen2-math

## Текущая конфигурация

### Облачная модель (по умолчанию)
```javascript
MATH_CONFIG.MODEL = 'o1-preview'
```

### Локальная модель (если включена)
```javascript
LOCAL_MATH_CONFIG.MODEL = 'qwen2-math:7b'
```

## Рекомендации

### Для продакшена
**Используйте o1-preview:**
- Максимальное качество решений
- Минимум ошибок
- Стоит дороже, но оправдывает себя

### Для разработки/тестирования
**Используйте qwen2-math:7b:**
- Бесплатно
- Хорошее качество
- Работает офлайн
- Не требует API ключей

### Для экономии
**Используйте gpt-4o с проверкой:**
- Дешевле o1-preview в 6 раз
- Быстрее
- Но требует проверки сложных решений

## Включение локальной модели

### 1. Установка модели
```bash
ollama pull qwen2-math:7b
```

### 2. Настройка в .env
```bash
VITE_MATH_ENABLE_LOCAL_MODELS=true
VITE_OLLAMA_MATH_MODEL=qwen2-math:7b
VITE_MATH_LOCAL_FALLBACK=true
```

### 3. Проверка
```bash
ollama run qwen2-math:7b "Реши уравнение: x^2 - 5x + 6 = 0"
```

## Сравнительная таблица

| Модель | Качество | Скорость | Стоимость | Рекомендация |
|--------|----------|----------|-----------|--------------|
| o1-preview | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ | Продакшен |
| gpt-4o | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | С осторожностью |
| gpt-4-turbo | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | Не рекомендуется |
| qwen2-math:7b | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | Локальное использование |
| qwen2.5:7b | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | Не для математики |

## Заключение

**Для максимального качества:** Используйте **o1-preview**
**Для локальной работы:** Используйте **qwen2-math:7b**
**Для экономии:** Используйте **gpt-4o** с проверкой результатов

Текущая конфигурация оптимизирована для максимального качества решений математических задач.
