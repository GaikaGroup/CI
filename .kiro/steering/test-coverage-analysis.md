# –ê–Ω–∞–ª–∏–∑ –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤ (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º ‚úÖ)

```
tests/
‚îú‚îÄ‚îÄ unit/                    ‚úÖ Unit —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îú‚îÄ‚îÄ chat/               ‚úÖ –ï—Å—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è chat –º–æ–¥—É–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ courses/
‚îÇ   ‚îú‚îÄ‚îÄ document/
‚îÇ   ‚îú‚îÄ‚îÄ llm/
‚îÇ   ‚îú‚îÄ‚îÄ session/
‚îÇ   ‚îú‚îÄ‚îÄ subjects/
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îú‚îÄ‚îÄ integration/             ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îú‚îÄ‚îÄ chat/               ‚úÖ –ï—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è chat
‚îÇ   ‚îú‚îÄ‚îÄ document/
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îî‚îÄ‚îÄ session/
‚îî‚îÄ‚îÄ e2e/                     ‚úÖ E2E —Ç–µ—Å—Ç—ã
    ‚îú‚îÄ‚îÄ voiceChatFlow.test.js
    ‚îú‚îÄ‚îÄ userExperienceValidation.test.js
    ‚îî‚îÄ‚îÄ voiceModeUxValidation.test.js
```

## –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º testing-requirements.md

### ‚úÖ –ß—Ç–æ —É–∂–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç:

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:
   - `tests/unit/` –¥–ª—è unit —Ç–µ—Å—Ç–æ–≤
   - `tests/integration/` –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
   - `tests/e2e/` –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤

2. **–ú–æ–¥—É–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** - –µ—Å—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π:
   - auth (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
   - chat (—á–∞—Ç —Å–∏—Å—Ç–µ–º–∞)
   - courses (–∫—É—Ä—Å—ã)
   - document (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
   - llm (LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã)
   - session (—Å–µ—Å—Å–∏–∏)

3. **E2E —Ç–µ—Å—Ç—ã** - –µ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ user flows:
   - voiceChatFlow.test.js
   - userExperienceValidation.test.js
   - voiceModeUxValidation.test.js

4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - vitest.config.js –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
   - Coverage reporter –≤–∫–ª—é—á–µ–Ω
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ exclude paths
   - Timeout –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤

### ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:

1. **Coverage threshold –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω**

   **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –ú–∏–Ω–∏–º—É–º 80% –ø–æ–∫—Ä—ã—Ç–∏–µ

   **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –í vitest.config.js –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ threshold

   **–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:**

   ```javascript
   coverage: {
     reporter: ['text', 'json', 'html'],
     exclude: ['node_modules/**', 'tests/**', 'build/**', '**/*.config.js', '**/*.config.ts'],
     thresholds: {
       lines: 80,
       functions: 80,
       branches: 75,
       statements: 80
     }
   }
   ```

2. **–ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è –≤ CI**

   **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** CI –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å —á—Ç–æ –ø–æ–∫—Ä—ã—Ç–∏–µ –Ω–µ —É–ø–∞–ª–æ

   **–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:** GitHub Actions workflow —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π coverage

3. **–ù–µ—Ç smoke tests –¥–ª—è staging**

   **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** Smoke tests –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ staging

   **–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:** `tests/smoke/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –±–∞–∑–æ–≤—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏

4. **–ù–µ—Ç —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–π**

   **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –ü—Ä–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –±–∞–≥–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–µ—Å—Ç

   **–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:** `tests/unit/bugfixes/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è

### üìä –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–∏–∑ testing-requirements.md):

- **Unit —Ç–µ—Å—Ç—ã**: 80%+ –ø–æ–∫—Ä—ã—Ç–∏–µ ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ
- **Integration —Ç–µ—Å—Ç—ã**: –í—Å–µ API endpoints ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
- **E2E —Ç–µ—Å—Ç—ã**: –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ user flows ‚úÖ –ï—Å—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: < 30 —Å–µ–∫—É–Ω–¥ –¥–ª—è unit, < 2 –º–∏–Ω—É—Ç –¥–ª—è –≤—Å–µ—Ö ‚ö†Ô∏è –ù—É–∂–Ω–æ –∏–∑–º–µ—Ä–∏—Ç—å

## –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

### 1. –î–æ–±–∞–≤–∏—Ç—å coverage thresholds –≤ vitest.config.js

```javascript
coverage: {
  reporter: ['text', 'json', 'html', 'json-summary'],
  exclude: ['node_modules/**', 'tests/**', 'build/**', '**/*.config.js', '**/*.config.ts'],
  thresholds: {
    lines: 80,
    functions: 80,
    branches: 75,
    statements: 80
  }
}
```

### 2. –°–æ–∑–¥–∞—Ç—å smoke tests

```bash
tests/smoke/
‚îú‚îÄ‚îÄ health-check.test.js
‚îú‚îÄ‚îÄ api-availability.test.js
‚îî‚îÄ‚îÄ database-connection.test.js
```

### 3. –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è regression tests

```bash
tests/unit/bugfixes/
‚îî‚îÄ‚îÄ README.md  # –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –±–∞–≥–æ–≤
```

### 4. –î–æ–±–∞–≤–∏—Ç—å npm scripts –¥–ª—è smoke tests

```json
{
  "scripts": {
    "test:smoke": "vitest run tests/smoke"
  }
}
```

### 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ API endpoints

–î–ª—è –∫–∞–∂–¥–æ–≥–æ API endpoint –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–µ—Å—Ç—ã:

- ‚úÖ –£—Å–ø–µ—à–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (200/201)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (401)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (403)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (400)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (500)

### 6. –ò–∑–º–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

```bash
npm run test:coverage
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ –º–æ–¥—É–ª–∏ –∏–º–µ—é—Ç –º–∏–Ω–∏–º—É–º 80% –ø–æ–∫—Ä—ã—Ç–∏–µ.

## –ß–µ–∫–ª–∏—Å—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è testing-requirements.md

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è

- [x] –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (unit/integration/e2e)
- [x] –¢–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- [ ] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è bugfixes
- [ ] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è smoke tests

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- [x] vitest.config.js –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Coverage thresholds —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [x] Timeout –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤
- [ ] Coverage reporter –≤–∫–ª—é—á–∞–µ—Ç json-summary

### –ü–æ–∫—Ä—ã—Ç–∏–µ

- [ ] 80%+ unit test coverage (–Ω—É–∂–Ω–æ –∏–∑–º–µ—Ä–∏—Ç—å)
- [ ] –í—Å–µ API endpoints –ø–æ–∫—Ä—ã—Ç—ã (–Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)
- [x] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ user flows –ø–æ–∫—Ä—ã—Ç—ã E2E —Ç–µ—Å—Ç–∞–º–∏
- [ ] Smoke tests –¥–ª—è staging

### CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- [ ] Pre-commit hooks (Husky)
- [ ] GitHub Actions workflows
- [ ] Coverage –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ CI
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [x] testing-requirements.md —Å–æ–∑–¥–∞–Ω
- [ ] README –≤ tests/ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- [ ] –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:**
   - –î–æ–±–∞–≤–∏—Ç—å coverage thresholds –≤ vitest.config.js
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm run test:coverage` –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
   - –°–æ–∑–¥–∞—Ç—å smoke tests –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

2. **–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Husky pre-commit hooks
   - –°–æ–∑–¥–∞—Ç—å GitHub Actions workflows
   - –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è API endpoints

3. **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ:**
   - –ü—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–µ—Å—Ç—ã
   - –ü—Ä–∏ –∫–∞–∂–¥–æ–º –±–∞–≥–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å regression test
   - –°–ª–µ–¥–∏—Ç—å —á—Ç–æ–±—ã –ø–æ–∫—Ä—ã—Ç–∏–µ –Ω–µ –ø–∞–¥–∞–ª–æ –Ω–∏–∂–µ 80%

## –í—ã–≤–æ–¥

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** üü° –ß–∞—Å—Ç–∏—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç

–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à—É—é –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–µ—Å—Ç–æ–≤, –Ω–æ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤:

1. –ù–∞—Å—Ç—Ä–æ–π–∫–µ coverage thresholds
2. –î–æ–±–∞–≤–ª–µ–Ω–∏–∏ smoke tests
3. –ù–∞—Å—Ç—Ä–æ–π–∫–µ CI/CD —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–µ—Å—Ç–æ–≤
4. –ò–∑–º–µ—Ä–µ–Ω–∏–∏ –∏ —É–ª—É—á—à–µ–Ω–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è –¥–æ 80%+

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–ª–∞–Ω–∞ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å** —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º testing-requirements.md.
