<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clear Cache and Restart App</title>
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,
          'Open Sans', 'Helvetica Neue', sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
      }
      h1 {
        color: #e65100;
        border-bottom: 2px solid #e65100;
        padding-bottom: 10px;
      }
      h2 {
        color: #f57c00;
        margin-top: 30px;
      }
      .card {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 20px;
        margin-bottom: 20px;
      }
      .button {
        background-color: #f57c00;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        margin-right: 10px;
        margin-bottom: 10px;
      }
      .button:hover {
        background-color: #e65100;
      }
      .code {
        background-color: #f5f5f5;
        padding: 10px;
        border-radius: 4px;
        font-family: monospace;
        overflow-x: auto;
      }
      .note {
        background-color: #fff3e0;
        padding: 15px;
        border-left: 4px solid #f57c00;
        margin: 20px 0;
      }
      .steps {
        list-style-type: decimal;
        padding-left: 20px;
      }
      .steps li {
        margin-bottom: 15px;
      }
    </style>
  </head>
  <body>
    <h1>Clear Cache and Restart App</h1>

    <div class="card">
      <h2>Why am I seeing this page?</h2>
      <p>
        You're seeing this page because you need to clear your browser's cache to see the latest
        changes to the Cat Avatar in the Voice Chat mode. Browser caching can sometimes prevent new
        images and code from loading properly.
      </p>
    </div>

    <div class="card">
      <h2>Quick Actions</h2>
      <button class="button" onclick="clearCacheAndReload()">Clear Cache and Reload</button>
      <button class="button" onclick="hardReload()">Hard Reload (Ctrl+F5)</button>

      <div class="note">
        <strong>Note:</strong> The buttons above may not work in all browsers. If they don't work,
        please follow the manual steps below.
      </div>
    </div>

    <div class="card">
      <h2>Manual Steps to Clear Cache and Restart</h2>

      <ol class="steps">
        <li>
          <strong>Clear your browser cache:</strong>
          <ul>
            <li>
              <strong>Chrome:</strong> Press Ctrl+Shift+Delete (Windows/Linux) or Cmd+Shift+Delete
              (Mac), check "Cached images and files", and click "Clear data"
            </li>
            <li>
              <strong>Firefox:</strong> Press Ctrl+Shift+Delete (Windows/Linux) or Cmd+Shift+Delete
              (Mac), select "Everything" for the time range, check "Cache", and click "Clear Now"
            </li>
            <li>
              <strong>Safari:</strong> Go to Safari > Preferences > Advanced, check "Show Develop
              menu in menu bar", then go to Develop > Empty Caches
            </li>
            <li>
              <strong>Edge:</strong> Press Ctrl+Shift+Delete, check "Cached images and files", and
              click "Clear"
            </li>
          </ul>
        </li>
        <li>
          <strong>Hard reload the application:</strong>
          <ul>
            <li><strong>Windows/Linux:</strong> Press Ctrl+F5 or Ctrl+Shift+R</li>
            <li><strong>Mac:</strong> Press Cmd+Shift+R</li>
          </ul>
        </li>
        <li>
          <strong>If that doesn't work, restart the application server:</strong>
          <div class="code">
            # Stop the current server (usually with Ctrl+C in the terminal)<br />
            # Then start it again<br />
            npm run dev
          </div>
        </li>
      </ol>
    </div>

    <div class="card">
      <h2>Still Having Issues?</h2>
      <p>
        If you're still not seeing the updated Cat Avatar after following these steps, try these
        additional troubleshooting steps:
      </p>
      <ol class="steps">
        <li>
          Check that the cat image is properly placed in <code>static/images/cat/cat.png</code>
        </li>
        <li>Try using a different browser</li>
        <li>Check the browser console for any errors (F12 or right-click > Inspect > Console)</li>
        <li>Make sure the application server is running properly</li>
      </ol>
    </div>

    <script>
      function clearCacheAndReload() {
        if ('caches' in window) {
          caches.keys().then(function (names) {
            for (let name of names) {
              caches.delete(name);
            }
            alert('Cache cleared! Reloading page...');
            window.location.href = '/';
          });
        } else {
          alert('Cache API not supported in your browser. Please follow the manual steps.');
        }
      }

      function hardReload() {
        location.reload(true);
      }
    </script>
  </body>
</html>
