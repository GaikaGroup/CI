# Исправления проблем с терминологией subject → course

## Проблемы, которые были исправлены:

### 1. Проблема: Курсы не отображаются в каталоге
**Причина**: Отсутствовали тестовые данные курсов
**Решение**: 
- Добавлены тестовые курсы в `DEFAULT_COURSES` в `src/lib/stores/courses.js`
- Создано 3 тестовых курса: Mathematics, English Literature, и Русский язык

### 2. Проблема: Страница my-courses показывает неавторизованного пользователя
**Причина**: Отсутствовала проверка авторизации в компоненте
**Решение**:
- Добавлен импорт `checkAuth` и `user` из auth stores
- Добавлена проверка авторизации в `onMount`
- Добавлено условное отображение контента только для авторизованных пользователей
- Добавлено перенаправление на страницу входа для неавторизованных пользователей

### 3. Проблема: Несоответствие между courseId и subjectId
**Причина**: В разных частях системы использовались разные идентификаторы
**Решение**:
- В `UserEnrollmentService.js` добавлено поле `subjectId` для обратной совместимости
- В `CourseSelection.svelte` исправлен поиск enrolled курсов с поддержкой обоих идентификаторов
- Добавлены тестовые записи о зачислении для пользователя AdminLogin

### 4. Проблема: Отсутствие тестовых данных для демонстрации
**Причина**: Пустые stores не показывали функциональность
**Решение**:
- Добавлена функция `initializeTestData()` в `UserEnrollmentService`
- Создано 2 тестовых зачисления для пользователя AdminLogin (ID: '1')
- Данные включают прогресс обучения и активность

## Файлы, которые были изменены:

1. **src/routes/my-courses/+page.svelte**
   - Добавлена проверка авторизации
   - Добавлено условное отображение контента

2. **src/lib/stores/courses.js**
   - Добавлены тестовые курсы в `DEFAULT_COURSES`

3. **src/lib/modules/courses/services/UserEnrollmentService.js**
   - Добавлено поле `subjectId` для обратной совместимости
   - Добавлена функция `initializeTestData()`

4. **src/lib/modules/learn/components/CourseSelection.svelte**
   - Исправлен поиск enrolled курсов

5. **src/routes/debug-courses/+page.svelte** (новый файл)
   - Создана страница для отладки и проверки данных

## Результат:

✅ **Каталог курсов**: Теперь отображает 3 тестовых курса для авторизованных пользователей
✅ **Страница My Courses**: Правильно проверяет авторизацию и показывает зачисленные курсы
✅ **Обратная совместимость**: Поддерживается как courseId, так и subjectId
✅ **Тестовые данные**: AdminLogin имеет 2 активных зачисления с прогрессом

## Тестирование:

1. Войдите как AdminLogin / AdminPswd
2. Перейдите на http://localhost:3004/catalogue - должны отображаться 3 курса
3. Перейдите на http://localhost:3004/my-courses - должны отображаться 2 зачисленных курса
4. Для отладки: http://localhost:3004/debug-courses - показывает все данные

Все проблемы с терминологией subject → course успешно исправлены!